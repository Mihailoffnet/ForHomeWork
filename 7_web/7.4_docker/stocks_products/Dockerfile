# Использовать официальный образ родительского образа / слепка.
FROM python:3.9
# Установка рабочей директории, откуда выполняются команды внутри контейнера.
WORKDIR .
# Скопировать все файлы с локальной машины внутрь файловой системы виртуального образа.
COPY . .
# Запустить команду внутри образа, установка зависимостей.
RUN pip install --no-cache-dir --upgrade -r requirements.txt
# Устанавливаем виртуальное окружение
ENV MY_ENV=venv
# Добавить мета-информацию к образу для открытия порта к прослушиванию.
EXPOSE 8080
# Выполнить команду внутри контейнера

CMD ["python3", "manage.py", "runserver"]